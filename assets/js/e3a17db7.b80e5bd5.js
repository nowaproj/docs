"use strict";(self.webpackChunknowa_docs=self.webpackChunknowa_docs||[]).push([[8251],{4993:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var i=n(5893),a=n(1151);const s={sidebar_position:4,title:"Update UI using state variables",description:"How to add logic that controls variables in your app"},o=void 0,r={id:"variables/update_var_state",title:"Update UI using state variables",description:"How to add logic that controls variables in your app",source:"@site/docs/variables/update_var_state.md",sourceDirName:"variables",slug:"/variables/update_var_state",permalink:"/variables/update_var_state",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Update UI using state variables",description:"How to add logic that controls variables in your app"},sidebar:"tutorialSidebar",previous:{title:"Create and display Lists",permalink:"/variables/lists"},next:{title:"Compute widget properties using Circuit",permalink:"/variables/compute"}},l={},d=[{value:"Updating State Variables with Circuit",id:"updating-state-variables-with-circuit",level:2},{value:"Example: Changing an Image on Button Press",id:"example-changing-an-image-on-button-press",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"In this section, you will learn:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"1. How to update the UI using state variables\n"})}),"\n",(0,i.jsxs)(t.p,{children:["To create interactive and dynamic UIs, you need to connect widget properties that you want to change dynamically with variables. In the ",(0,i.jsx)(t.a,{href:"/variables/create_variables",children:"Creating Variables"})," section, we discussed the difference between read-only (non-state) and non-read-only (state) variables. State variables can be changed after the widget has been loaded and displayed on the screen, allowing you to dynamically update the UI."]}),"\n",(0,i.jsx)(t.p,{children:"In this guide, we'll demonstrate how to update the UI by changing a state variable connected to a widget property using Circuit."}),"\n",(0,i.jsx)(t.h2,{id:"updating-state-variables-with-circuit",children:"Updating State Variables with Circuit"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Create a state variable to one of the widget properties that you want to change"}),"\n",(0,i.jsxs)(t.li,{children:["Open Circuit to create logic to be executed for a specific action, such as ",(0,i.jsx)(t.strong,{children:"On pressed"})," event for ",(0,i.jsx)(t.strong,{children:"Button"})," widget or ",(0,i.jsx)(t.strong,{children:"Gesture Detector"})," wrapper"]}),"\n",(0,i.jsxs)(t.li,{children:["When clicking on the state variable name inside the ",(0,i.jsx)(t.strong,{children:"Locals"})," section in Circuit, you will see ",(0,i.jsx)(t.strong,{children:"Get"})," and ",(0,i.jsx)(t.strong,{children:"Set"})," options. ",(0,i.jsx)(t.strong,{children:"Get"})," allows you to read the variable value and use it as input to another node, while ",(0,i.jsx)(t.strong,{children:"Set"})," lets you change the variable to a new value. To update the variable, choose ",(0,i.jsx)(t.strong,{children:"set"})," then connect the input pin for the ",(0,i.jsx)(t.strong,{children:"Set"})," node for that variable to the value that you need to change it to, you can enter the value manually in the node itself or use the output of other nodes as the input for that ",(0,i.jsx)(t.strong,{children:"Set"})," node."]}),"\n",(0,i.jsxs)(t.li,{children:["After changing a state variable, add the ",(0,i.jsx)(t.strong,{children:"Refresh"})," node to the flow to update the UI. The ",(0,i.jsx)(t.strong,{children:"Refresh"})," node won't be visible if all variables in the Screen/Component are read-only."]}),"\n"]}),"\n",(0,i.jsxs)(t.admonition,{type:"info",children:[(0,i.jsx)(t.mdxAdmonitionTitle,{}),(0,i.jsxs)(t.p,{children:["Non-state variables don't have the ",(0,i.jsx)(t.strong,{children:"get"})," and ",(0,i.jsx)(t.strong,{children:"set"})," options, as they can only be read as inputs to other nodes but not set to new values. Therefore you will see only the name of the variable listed in the section ",(0,i.jsx)(t.strong,{children:"Locals"})," which is used as ",(0,i.jsx)(t.strong,{children:"Get"})," only"]})]}),"\n",(0,i.jsx)(t.h3,{id:"example-changing-an-image-on-button-press",children:"Example: Changing an Image on Button Press"}),"\n",(0,i.jsxs)(t.p,{children:["In this example, we'll build an app that changes an image when a button is pressed, the image will be displayed online images using the ",(0,i.jsx)(t.strong,{children:"url"})," property."]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Create a state variable called ",(0,i.jsx)(t.strong,{children:"imageURL"})," for the ",(0,i.jsx)(t.strong,{children:"url"})," property of the ",(0,i.jsx)(t.strong,{children:"Image"})," widget, allowing you to control the property dynamically with a variable. Set the variable to be a state variable (uncheck the read-only option)."]}),"\n",(0,i.jsxs)(t.li,{children:["Add logic to the button by selecting it and clicking on the ",(0,i.jsx)(t.strong,{children:"On Pressed"})," field. This logic will execute when the user presses the button."]}),"\n",(0,i.jsx)(t.li,{children:'Inside Circuit, click the plus button next to the "OnPressed" node to add the next node to the logic flow.'}),"\n",(0,i.jsxs)(t.li,{children:["Select the ",(0,i.jsx)(t.strong,{children:"imageURL"})," variable in the ",(0,i.jsx)(t.strong,{children:"locals"})," section. Choose ",(0,i.jsx)(t.strong,{children:"set"})," and enter the new URL for the ",(0,i.jsx)(t.strong,{children:"imageURL"})," variable after the button is clicked."]}),"\n",(0,i.jsxs)(t.li,{children:["Add a ",(0,i.jsx)(t.strong,{children:"Refresh"})," node at the end of the flow. The ",(0,i.jsx)(t.strong,{children:"Refresh"})," node is also found within the ",(0,i.jsx)(t.strong,{children:"locals"})," section."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Now, when you play the app and click the button, the image URL will change from the initial value to the new one, updating the image displayed in the UI."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(1810).Z+"",width:"2864",height:"1682"})}),"\n",(0,i.jsxs)(t.admonition,{type:"info",children:[(0,i.jsx)(t.p,{children:"Making a variable private is a common practice for state variables since you want the state variable to be updated within the screen itself so you want to hide it from being accessed from outside."}),(0,i.jsx)(t.p,{children:"Usually, the variables that are non-state are public, since their default value is usually set from outside the screen, like a previous screen or an API source, so they should be accessed from outside the screen/component, but for state variables, it's usually that they change according to the user interactions inside that screen or component, and they don't need an initial value to be passed from outside."}),(0,i.jsx)(t.p,{children:"In case of the initial value of the state variable to be received from outside, a common practice is to create two independent variables, one is non-state and public for receiving the value from outside, and another one is state and private variable for updating the UI state inside the screen or component. The initial value for that state variable is then set up to be the value of the other non-state variable that receives its value from outside. This concept is known in software development as encapsulation."})]})]})}function h(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},1810:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/update_var_state-90223b4ea3728d66f5baaabc97175505.gif"},1151:(e,t,n)=>{n.d(t,{Z:()=>r,a:()=>o});var i=n(7294);const a={},s=i.createContext(a);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);